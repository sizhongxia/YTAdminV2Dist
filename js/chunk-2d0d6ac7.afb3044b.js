(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6ac7"],{"740d":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Table",{attrs:{border:!1,stripe:!0,"show-header":!0,data:e.tableData,loading:e.loading,columns:e.columns,size:"default","highlight-row":!0,editable:""},on:{"on-sort-change":e.handleSortChange}}),o("div",{staticClass:"page"},[o("Page",{attrs:{total:e.total,current:e.searchFormObj.current,"page-size":e.searchFormObj.size,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),o("Modal",{attrs:{title:"修改",width:"560",scrollable:"",mask:"","mask-closable":!1,closable:!1,"class-name":"vertical-center-modal"},model:{value:e.baseFormModel,callback:function(t){e.baseFormModel=t},expression:"baseFormModel"}},[o("Form",{ref:"baseForm",attrs:{model:e.formObj,"label-width":120,rules:e.ruleValidate}},[o("FormItem",{attrs:{label:"服务热线",prop:"servicePhone"}},[o("Input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入平台服务热线"},model:{value:e.formObj.servicePhone,callback:function(t){e.$set(e.formObj,"servicePhone",t)},expression:"formObj.servicePhone"}})],1),o("FormItem",{attrs:{label:"关于我们",prop:"aboutUsContent"}},[o("Input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入关于我们链接地址"},model:{value:e.formObj.aboutUsContent,callback:function(t){e.$set(e.formObj,"aboutUsContent",t)},expression:"formObj.aboutUsContent"}})],1)],1),e.submiting?o("Spin",{attrs:{size:"large",fix:""}}):e._e(),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:e.closeBaseFormHandle}},[e._v("关闭")]),o("Button",{attrs:{type:"primary"},on:{click:e.submitBaseFormHandle}},[e._v("提交")])],1)],1)],1)},r=[],n=(o("cadf"),o("551c"),o("097d"),o("66df")),s=function(e){return n["a"].request({url:"systeminfo/list",data:e,method:"post"})},i=function(e){return n["a"].request({url:"systeminfo/upinsert",data:e,method:"post"})},l=function(e){var t={resId:e};return n["a"].request({url:"systeminfo/detail",data:t,method:"post"})},d={data:function(){return{searchFormObj:{current:1,size:10,orderField:"",orderType:""},loading:!1,tableData:[],total:0,submiting:!1,formObj:{resId:"",servicePhone:"",aboutUsContent:""},baseFormModel:!1}},computed:{columns:function(){var e=this;return[{title:" ",key:"action",width:100,fixed:"right",render:function(t,o){return t("div",[t("Button",{props:{type:"text"},on:{click:function(){e.showEditForm(o)}}},"编辑")])}},{type:"index",width:60,align:"center"},{title:"服务热线",key:"servicePhone",minWidth:200,tooltip:!0},{title:"关于我们",key:"aboutUsContent",minWidth:200,tooltip:!0}]},ruleValidate:function(){return{servicePhone:[{required:!0,message:"服务热线不允许为空",trigger:"blur"}],aboutUsContent:[{required:!0,message:"关于我们链接地址不允许为空",trigger:"blur"}]}}},methods:{load:function(){var e=this;e.loading=!0,s(e.searchFormObj).then(function(t){if(e.loading=!1,200===t.status&&200===t.data.code){var o=t.data.data;e.tableData=o.list,e.total=o.total}}).catch(function(t){e.$Modal.error({title:t.message}),e.tableData=[],e.loading=!1})},handleSearch:function(e){this.load()},changePage:function(e){this.searchFormObj.current=e,this.load()},changePageSize:function(e){this.searchFormObj.size=e,this.load()},handleSortChange:function(e){this.searchFormObj.orderField=e.key,this.searchFormObj.orderType=e.order,this.load()},showEditForm:function(e){var t=this;t.loading=!0,l(e.row.resId).then(function(e){t.loading=!1,200===e.status&&200===e.data.code&&(t.formObj=e.data.data,t.baseFormModel=!0)}).catch(function(e){t.loading=!1,t.$Modal.error({title:e.message})})},submitBaseFormHandle:function(){var e=this;e.$refs["baseForm"].validate(function(t){t&&(e.submiting=!0,i(e.formObj).then(function(t){e.submiting=!1,200===t.status&&200===t.data.code?(e.closeBaseFormHandle(),e.load()):e.$Modal.error({title:t.data.message})}).catch(function(t){e.submiting=!1,e.closeBaseFormHandle(),e.$Modal.error({title:t.message})}))})},closeBaseFormHandle:function(){this.$refs["baseForm"].resetFields(),this.baseFormModel=!1}},mounted:function(){this.load()}},c=d,u=o("2877"),h=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=h.exports}}]);